\import streamlit as st

st.title("VGTI 2nd 診断")

if "page" not in st.session_state:
    st.session_state.page = 0

# 5段階ラベル
labels = {
    "まったくそう思わない": 1,
    "あまりそう思わない": 2,
    "どちらでもない": 3,
    "そう思う": 4,
    "とてもそう思う": 5
}

# 頭文字の説明
letter_meaning = {
    "R": "生活リズム",
    "I": "不規則性",
    "H": "食事スタイル（家食）",
    "E": "食事スタイル（外食）",
    "F": "野菜摂取障壁が低い",
    "B": "野菜摂取障壁が高い",
    "L": "野菜への意識が高い",
    "D": "野菜への意識が低い"
}

# 質問セット
questions = {
    "R": [
        "小さい頃からの習慣だから三食食べている",
        "自分で意識して三食食べている",
        "健康のために三食食べている",
        "なんとなく三食食べている"
    ],
    "I": [
        "好きな食べ物がないから三食食べていない",
        "食べる必要性を感じない",
        "食べる時間がない",
        "金銭的に余裕がない"
    ],
    "H": [
        "家で食べるのは安いから",
        "家族が作ってくれるから家で食べる",
        "健康に良いから家で食べる",
        "落ち着けるから家で食べる"
    ],
    "E": [
        "料理をするのが面倒だから外で食べる",
        "外食の方がおいしいから外で食べる",
        "買って食べる方が楽だから外で食べる",
        "気分を変えたいから外で食べる"
    ],
    "F": [
        "もともと野菜が好きだから野菜を食べる",
        "家族が作ってくれるから野菜を食べる",
        "野菜を手軽に買えるから食べる",
        "野菜を食べるのが習慣になっている"
    ],
    "B": [
        "野菜を買うのにお金がかかるからあまり食べない",
        "野菜を調理する時間がないからあまり食べない",
        "野菜の味が苦手であまり食べない",
        "野菜の必要性を感じない"
    ],
    "L": [
        "野菜をおいしいと思う",
        "育てた経験があるので親しみがある",
        "健康に良いから積極的に食べている",
        "なんとなく野菜を食べる"
    ],
    "D": [
        "野菜の味が苦手で意識して食べない",
        "食感が苦手で意識して食べない",
        "においが苦手で意識して食べない",
        "なんとなく気が向かない"
    ]
}

# -------------------
# ページ0: キャラクター選択
# -------------------
if st.session_state.page == 0:
    st.subheader("VGTIタイプ選択")
    with st.form("vgti_form"):
        vgti_code = st.selectbox(
            "前回の診断で出たあなたのVGTIタイプを選んでください",
            [
                "RHFL", "RHFD", "RHBL", "RHBD",
                "REFL", "REFD", "REBL", "REBD",
                "IHFL", "IHFD", "IHBL", "IHBD",
                "IEFL", "IEFD", "IEBL", "IEBD"
            ]
        )
        submitted = st.form_submit_button("次へ")
        if submitted:
            st.session_state.vgti_code = vgti_code
            st.session_state.page = 1

# -------------------
# ページ1: Likert質問
# -------------------
elif st.session_state.page == 1:
    code = st.session_state.vgti_code
    char4 = list(code)

    st.subheader(f"あなたのVGTIタイプ: {code}")
    st.m
